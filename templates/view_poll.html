{% extends "base.html" %}

{% block title %}View Poll{% endblock %}

{% block content %}
    <h2 class="mb-3">Poll Options</h2>
    {% if user_has_voted %}
        <div class="alert alert-success">
            Thank you for voting in this poll. Your vote has been received.
        </div>
    {% else %}
        <form method="post" action="{{ url_for('vote', poll_id=poll_id) }}" class="needs-validation" novalidate>
            <ul class="list-group">
                {% for option in options %}
                    <li class="list-group-item">
                        <label>
                            <input type="radio" name="option_id" value="{{ option[0] }}"> {{ option[1] }}
                        </label>
                    </li>
                {% endfor %}
            </ul>
            <button type="submit" class="btn btn-primary mt-3">Vote</button>
        </form>
    {% endif %}
    <!-- Add a link to go back to the list of polls -->
    <a href="{{ url_for('list_polls') }}" class="btn btn-secondary mt-3">Back to Polls</a>
{% endblock %}
